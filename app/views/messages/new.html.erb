<h1>New Message</h1>

<%= turbo_frame_tag 'new_message', target: '_top' do %>
  <%= form_with(
    class: 'mt-8',
    model: [@message.room, @message],
    data: { controller: 'reset_form', action: 'turbo:submit-end->reset_form#reset' }
  ) do |form| %>
    <div class="flex rounded-md shadow">
      <div class="flex-grow focus-within:z-10">
        <%= form.text_area :content,
          placeholder: 'Enter a message...',
          class: 'focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300',
          data: { reset_form_target: 'textarea' } %>
      </div>

      <%= form.submit 'Send', class: '-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-white bg-green-500 hover:bg-green-400 focus:outline-none focus:ring-2 focus:ring-green-500' %>
    </div>
  <% end %>
<% end %>

<%= link_to 'Back', @message.room %>